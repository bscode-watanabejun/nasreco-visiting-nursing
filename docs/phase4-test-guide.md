# Phase 4 åŠ ç®—è¨ˆç®—ã‚¨ãƒ³ã‚¸ãƒ³ ãƒ†ã‚¹ãƒˆã‚¬ã‚¤ãƒ‰

## ðŸ“‹ ãƒ†ã‚¹ãƒˆæº–å‚™

### å‰ææ¡ä»¶
- âœ… åŠ ç®—ãƒžã‚¹ã‚¿: 6ä»¶ç™»éŒ²æ¸ˆã¿
- âœ… ãƒ†ã‚¹ãƒˆæ‚£è€…: 2åï¼ˆéˆ´æœ¨ å¤ªéƒŽ 80æ­³ã€å°æž— èŠ±éŸ³ 5æ­³ï¼‰
- âœ… ãƒ«ãƒ¼ãƒ«ã‚¨ãƒ³ã‚¸ãƒ³å®Ÿè£…å®Œäº†

### ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼
| ãƒ¦ãƒ¼ã‚¶ãƒ¼å | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ | å½¹å‰² | æ–½è¨­ |
|----------|----------|------|------|
| `nurse_yamada` | `password123` | çœ‹è­·å¸« | æ±äº¬æœ¬é™¢ |
| `admin` | `password123` | ç®¡ç†è€… | æ±äº¬æœ¬é™¢ |

---

## ðŸ§ª ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä¸€è¦§

### Test Case 1: å¤œé–“ç·Šæ€¥è¨ªå• â­â­â­

**ç›®çš„**: è¤‡æ•°åŠ ç®—ã®åŒæ™‚é©ç”¨ã‚’ãƒ†ã‚¹ãƒˆï¼ˆç·Šæ€¥è¨ªå• + å¤œé–“åŠ ç®—ï¼‰

**æ‰‹é †**:
1. è¨ªå•è¨˜éŒ²ä½œæˆç”»é¢ã‚’é–‹ã
2. ä»¥ä¸‹ã‚’å…¥åŠ›:
   - **æ‚£è€…**: éˆ´æœ¨ å¤ªéƒŽ
   - **è¨ªå•æ—¥**: 2025-10-15
   - **è¨˜éŒ²ç¨®åˆ¥**: ä¸€èˆ¬ã‚±ã‚¢
   - **é–‹å§‹æ™‚åˆ»**: 19:00
   - **çµ‚äº†æ™‚åˆ»**: 20:00
   - **ç·Šæ€¥è¨ªå•ç†ç”±**: ã€Œå‘¼å¸å›°é›£ã®ãŸã‚ç·Šæ€¥è¨ªå•ã€
   - **ã‚¿ã‚¤ãƒˆãƒ«**: å¤œé–“ç·Šæ€¥è¨ªå•
   - **å†…å®¹**: å‘¼å¸å›°é›£ã®ç—‡çŠ¶ã‚ã‚Šã€‚é…¸ç´ å¸å…¥ã‚’å®Ÿæ–½ã€‚
3. ä¿å­˜ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

**æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
- âœ… ç®—å®šç‚¹æ•°: **5,250ç‚¹**
  - åŸºæœ¬ç‚¹æ•°: 500ç‚¹
  - ç·Šæ€¥è¨ªå•çœ‹è­·åŠ ç®—: 2,650ç‚¹ï¼ˆæœˆ14æ—¥ç›®ã¾ã§ï¼‰
  - å¤œé–“è¨ªå•çœ‹è­·åŠ ç®—: 2,100ç‚¹ï¼ˆ18:00-22:00ï¼‰
- âœ… é©ç”¨åŠ ç®—æ¬„ã«2ã¤ã®åŠ ç®—ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- âœ… ãƒãƒ¼ã‚¸ãƒ§ãƒ³: 2024

**ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**:
- [ ] ç®—å®šç‚¹æ•°ãŒ5,250ç‚¹ã«ãªã£ã¦ã„ã‚‹
- [ ] ã€Œç·Šæ€¥è¨ªå•çœ‹è­·åŠ ç®—ã€ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹
- [ ] ã€Œå¤œé–“ãƒ»æ·±å¤œè¨ªå•çœ‹è­·åŠ ç®—ã€ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹
- [ ] ä¿å­˜å¾Œã«ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒä¸€è¦§ã«è¡¨ç¤ºã•ã‚Œã‚‹

---

### Test Case 2: é•·æ™‚é–“è¨ªå•ï¼ˆ95åˆ†ï¼‰ â­â­

**ç›®çš„**: è¨ªå•æ™‚é–“é•·ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ãƒ†ã‚¹ãƒˆ

**æ‰‹é †**:
1. è¨ªå•è¨˜éŒ²ä½œæˆç”»é¢ã‚’é–‹ã
2. ä»¥ä¸‹ã‚’å…¥åŠ›:
   - **æ‚£è€…**: éˆ´æœ¨ å¤ªéƒŽ
   - **è¨ªå•æ—¥**: 2025-10-16
   - **è¨˜éŒ²ç¨®åˆ¥**: å‰µå‚·ã‚±ã‚¢
   - **é–‹å§‹æ™‚åˆ»**: 10:00
   - **çµ‚äº†æ™‚åˆ»**: 11:35ï¼ˆ95åˆ†ï¼‰
   - **é•·æ™‚é–“è¨ªå•ç†ç”±**: ã€Œè¤¥ç˜¡å‡¦ç½®ã®ãŸã‚é•·æ™‚é–“è¨ªå•ã€
   - **ã‚¿ã‚¤ãƒˆãƒ«**: é•·æ™‚é–“è¨ªå•ï¼ˆè¤¥ç˜¡å‡¦ç½®ï¼‰
   - **å†…å®¹**: ä»™éª¨éƒ¨è¤¥ç˜¡ã®å‡¦ç½®ã‚’å®Ÿæ–½ã€‚æ´—æµ„ã€è»Ÿè†å¡—å¸ƒã€ãƒ‰ãƒ¬ãƒƒã‚·ãƒ³ã‚°äº¤æ›ã€‚
3. ä¿å­˜ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

**æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
- âœ… ç®—å®šç‚¹æ•°: **5,700ç‚¹**
  - åŸºæœ¬ç‚¹æ•°: 500ç‚¹
  - é•·æ™‚é–“è¨ªå•çœ‹è­·åŠ ç®—: 5,200ç‚¹ï¼ˆ90åˆ†ä»¥ä¸Šï¼‰
- âœ… é©ç”¨åŠ ç®—æ¬„ã«ã€Œé•·æ™‚é–“è¨ªå•çœ‹è­·åŠ ç®—ã€ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- âœ… matchedCondition: "duration_90"

**ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**:
- [ ] ç®—å®šç‚¹æ•°ãŒ5,700ç‚¹ã«ãªã£ã¦ã„ã‚‹
- [ ] ã€Œé•·æ™‚é–“è¨ªå•çœ‹è­·åŠ ç®—ã€ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹
- [ ] è¨ªå•æ™‚é–“ãŒ95åˆ†ã¨è¨ˆç®—ã•ã‚Œã¦ã„ã‚‹

---

### Test Case 3: ä¹³å¹¼å…è¨ªå•ï¼ˆ5æ­³ï¼‰ â­â­

**ç›®çš„**: å¹´é½¢åŒºåˆ†ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ãƒ†ã‚¹ãƒˆ

**æ‰‹é †**:
1. è¨ªå•è¨˜éŒ²ä½œæˆç”»é¢ã‚’é–‹ã
2. ä»¥ä¸‹ã‚’å…¥åŠ›:
   - **æ‚£è€…**: å°æž— èŠ±éŸ³ï¼ˆ5æ­³ï¼‰
   - **è¨ªå•æ—¥**: 2025-10-15
   - **è¨˜éŒ²ç¨®åˆ¥**: ãƒã‚¤ã‚¿ãƒ«ã‚µã‚¤ãƒ³æ¸¬å®š
   - **é–‹å§‹æ™‚åˆ»**: 14:00
   - **çµ‚äº†æ™‚åˆ»**: 15:00
   - **ã‚¿ã‚¤ãƒˆãƒ«**: ä¹³å¹¼å…å®šæœŸè¨ªå•
   - **å†…å®¹**: ãƒã‚¤ã‚¿ãƒ«ã‚µã‚¤ãƒ³æ¸¬å®šã€ç™ºé”çŠ¶æ³ç¢ºèªã€‚ç‰¹ã«å•é¡Œãªã—ã€‚
3. ä¿å­˜ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

**æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
- âœ… ç®—å®šç‚¹æ•°: **2,000ç‚¹**
  - åŸºæœ¬ç‚¹æ•°: 500ç‚¹
  - ä¹³å¹¼å…åŠ ç®—: 1,500ç‚¹ï¼ˆ6æ­³æœªæº€ï¼‰
- âœ… é©ç”¨åŠ ç®—æ¬„ã«ã€Œä¹³å¹¼å…åŠ ç®—ã€ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- âœ… matchedCondition: "age_0_6"

**ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**:
- [ ] ç®—å®šç‚¹æ•°ãŒ2,000ç‚¹ã«ãªã£ã¦ã„ã‚‹
- [ ] ã€Œä¹³å¹¼å…åŠ ç®—ã€ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹
- [ ] æ‚£è€…å¹´é½¢ãŒ5æ­³ã¨èªè­˜ã•ã‚Œã¦ã„ã‚‹

---

### Test Case 4: æ·±å¤œè¨ªå•ï¼ˆ23:00ï¼‰ â­â­

**ç›®çš„**: æ™‚é–“å¸¯åˆ¥åŠ ç®—ï¼ˆæ·±å¤œï¼‰ã®ãƒ†ã‚¹ãƒˆ

**æ‰‹é †**:
1. è¨ªå•è¨˜éŒ²ä½œæˆç”»é¢ã‚’é–‹ã
2. ä»¥ä¸‹ã‚’å…¥åŠ›:
   - **æ‚£è€…**: éˆ´æœ¨ å¤ªéƒŽ
   - **è¨ªå•æ—¥**: 2025-10-17
   - **è¨˜éŒ²ç¨®åˆ¥**: ä¸€èˆ¬ã‚±ã‚¢
   - **é–‹å§‹æ™‚åˆ»**: 23:00
   - **çµ‚äº†æ™‚åˆ»**: 23:45
   - **ã‚¿ã‚¤ãƒˆãƒ«**: æ·±å¤œè¨ªå•
   - **å†…å®¹**: å®¶æ—ã‹ã‚‰ã®é€£çµ¡ã«ã‚ˆã‚Šæ·±å¤œè¨ªå•ã€‚çŠ¶æ…‹ç¢ºèªã‚’å®Ÿæ–½ã€‚
3. ä¿å­˜ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

**æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
- âœ… ç®—å®šç‚¹æ•°: **4,700ç‚¹**
  - åŸºæœ¬ç‚¹æ•°: 500ç‚¹
  - æ·±å¤œè¨ªå•çœ‹è­·åŠ ç®—: 4,200ç‚¹ï¼ˆ22:00-6:00ï¼‰
- âœ… é©ç”¨åŠ ç®—æ¬„ã«ã€Œå¤œé–“ãƒ»æ·±å¤œè¨ªå•çœ‹è­·åŠ ç®—ï¼ˆæ·±å¤œï¼‰ã€ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- âœ… matchedCondition: "late_night"

**ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**:
- [ ] ç®—å®šç‚¹æ•°ãŒ4,700ç‚¹ã«ãªã£ã¦ã„ã‚‹
- [ ] å¤œé–“(2,100ç‚¹)ã§ã¯ãªãæ·±å¤œ(4,200ç‚¹)ãŒé©ç”¨ã•ã‚Œã¦ã„ã‚‹
- [ ] æ™‚é–“å¸¯ãŒæ­£ã—ãèªè­˜ã•ã‚Œã¦ã„ã‚‹

---

### Test Case 5: æ—©æœè¨ªå•ï¼ˆ7:00ï¼‰ â­

**ç›®çš„**: æ™‚é–“å¸¯åˆ¥åŠ ç®—ï¼ˆæ—©æœï¼‰ã®ãƒ†ã‚¹ãƒˆ

**æ‰‹é †**:
1. è¨ªå•è¨˜éŒ²ä½œæˆç”»é¢ã‚’é–‹ã
2. ä»¥ä¸‹ã‚’å…¥åŠ›:
   - **æ‚£è€…**: éˆ´æœ¨ å¤ªéƒŽ
   - **è¨ªå•æ—¥**: 2025-10-18
   - **è¨˜éŒ²ç¨®åˆ¥**: ãƒã‚¤ã‚¿ãƒ«ã‚µã‚¤ãƒ³æ¸¬å®š
   - **é–‹å§‹æ™‚åˆ»**: 07:00
   - **çµ‚äº†æ™‚åˆ»**: 08:00
   - **ã‚¿ã‚¤ãƒˆãƒ«**: æ—©æœè¨ªå•
   - **å†…å®¹**: æœã®ãƒã‚¤ã‚¿ãƒ«ãƒã‚§ãƒƒã‚¯ã€‚
3. ä¿å­˜ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

**æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
- âœ… ç®—å®šç‚¹æ•°: **2,600ç‚¹**
  - åŸºæœ¬ç‚¹æ•°: 500ç‚¹
  - æ—©æœè¨ªå•çœ‹è­·åŠ ç®—: 2,100ç‚¹ï¼ˆ6:00-8:00ï¼‰
- âœ… é©ç”¨åŠ ç®—æ¬„ã«ã€Œå¤œé–“ãƒ»æ·±å¤œè¨ªå•çœ‹è­·åŠ ç®—ï¼ˆæ—©æœï¼‰ã€ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- âœ… matchedCondition: "early_morning"

**ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**:
- [ ] ç®—å®šç‚¹æ•°ãŒ2,600ç‚¹ã«ãªã£ã¦ã„ã‚‹
- [ ] æ—©æœåŠ ç®—ãŒé©ç”¨ã•ã‚Œã¦ã„ã‚‹

---

### Test Case 6: è¤‡æ•°åè¨ªå• â­

**ç›®çš„**: å›ºå®šç‚¹æ•°åŠ ç®—ã®ãƒ†ã‚¹ãƒˆ

**æ‰‹é †**:
1. è¨ªå•è¨˜éŒ²ä½œæˆç”»é¢ã‚’é–‹ã
2. ä»¥ä¸‹ã‚’å…¥åŠ›:
   - **æ‚£è€…**: éˆ´æœ¨ å¤ªéƒŽ
   - **è¨ªå•æ—¥**: 2025-10-19
   - **è¨˜éŒ²ç¨®åˆ¥**: ä¸€èˆ¬ã‚±ã‚¢
   - **é–‹å§‹æ™‚åˆ»**: 10:00
   - **çµ‚äº†æ™‚åˆ»**: 11:00
   - **è¤‡æ•°å›žè¨ªå•ç†ç”±**: ã€Œä½“ä½å¤‰æ›ã®ãŸã‚çœ‹è­·å¸«2åã§è¨ªå•ã€
   - **ã‚¿ã‚¤ãƒˆãƒ«**: è¤‡æ•°åè¨ªå•
   - **å†…å®¹**: ä½“ä½å¤‰æ›ã€è¤¥ç˜¡äºˆé˜²ã®ãŸã‚2åã§è¨ªå•ã€‚
3. ä¿å­˜ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

**æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
- âœ… ç®—å®šç‚¹æ•°: **5,000ç‚¹**
  - åŸºæœ¬ç‚¹æ•°: 500ç‚¹
  - è¤‡æ•°åè¨ªå•çœ‹è­·åŠ ç®—: 4,500ç‚¹
- âœ… é©ç”¨åŠ ç®—æ¬„ã«ã€Œè¤‡æ•°åè¨ªå•çœ‹è­·åŠ ç®—ã€ãŒè¡¨ç¤ºã•ã‚Œã‚‹

**ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**:
- [ ] ç®—å®šç‚¹æ•°ãŒ5,000ç‚¹ã«ãªã£ã¦ã„ã‚‹
- [ ] ã€Œè¤‡æ•°åè¨ªå•çœ‹è­·åŠ ç®—ã€ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹

---

### Test Case 7: æ—¥ä¸­é€šå¸¸è¨ªå•ï¼ˆåŠ ç®—ãªã—ï¼‰ â­

**ç›®çš„**: åŠ ç®—ãŒé©ç”¨ã•ã‚Œãªã„é€šå¸¸ã‚±ãƒ¼ã‚¹ã®ãƒ†ã‚¹ãƒˆ

**æ‰‹é †**:
1. è¨ªå•è¨˜éŒ²ä½œæˆç”»é¢ã‚’é–‹ã
2. ä»¥ä¸‹ã‚’å…¥åŠ›:
   - **æ‚£è€…**: éˆ´æœ¨ å¤ªéƒŽ
   - **è¨ªå•æ—¥**: 2025-10-20
   - **è¨˜éŒ²ç¨®åˆ¥**: ãƒã‚¤ã‚¿ãƒ«ã‚µã‚¤ãƒ³æ¸¬å®š
   - **é–‹å§‹æ™‚åˆ»**: 14:00
   - **çµ‚äº†æ™‚åˆ»**: 15:00
   - **ã‚¿ã‚¤ãƒˆãƒ«**: å®šæœŸè¨ªå•
   - **å†…å®¹**: é€šå¸¸ã®å®šæœŸè¨ªå•ã€‚ãƒã‚¤ã‚¿ãƒ«æ¸¬å®šã€‚
   - âš ï¸ **ç·Šæ€¥è¨ªå•ç†ç”±ã€è¤‡æ•°å›žè¨ªå•ç†ç”±ã€é•·æ™‚é–“è¨ªå•ç†ç”±ã¯å…¥åŠ›ã—ãªã„**
3. ä¿å­˜ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

**æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
- âœ… ç®—å®šç‚¹æ•°: **500ç‚¹**ï¼ˆåŸºæœ¬ç‚¹æ•°ã®ã¿ï¼‰
- âœ… é©ç”¨åŠ ç®—æ¬„ãŒç©ºã€ã¾ãŸã¯ã€Œãªã—ã€ã¨è¡¨ç¤ºã•ã‚Œã‚‹

**ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**:
- [ ] ç®—å®šç‚¹æ•°ãŒ500ç‚¹ã«ãªã£ã¦ã„ã‚‹
- [ ] è¿½åŠ ã®åŠ ç®—ãŒé©ç”¨ã•ã‚Œã¦ã„ãªã„

---

## ðŸ” ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç¢ºèªæ–¹æ³•

### è¨ˆç®—å±¥æ­´ã®ç¢ºèª

ãƒ†ã‚¹ãƒˆå¾Œã€ä»¥ä¸‹ã®ã‚³ãƒžãƒ³ãƒ‰ã§è¨ˆç®—å±¥æ­´ã‚’ç¢ºèªã§ãã¾ã™ï¼š

```bash
psql "$DATABASE_URL" -c "
SELECT
  nr.visit_date,
  nr.title,
  bm.bonus_name,
  bch.calculated_points,
  bch.applied_version,
  bch.calculation_details->>'matchedCondition' as condition
FROM bonus_calculation_history bch
JOIN nursing_records nr ON bch.nursing_record_id = nr.id
JOIN bonus_master bm ON bch.bonus_master_id = bm.id
WHERE nr.visit_date >= '2025-10-15'
ORDER BY nr.visit_date, nr.created_at;
"
```

### æœˆæ¬¡é›†è¨ˆã®ç¢ºèª

```bash
psql "$DATABASE_URL" -c "
SELECT
  p.last_name || ' ' || p.first_name as patient_name,
  COUNT(nr.id) as visit_count,
  SUM(nr.calculated_points) as total_points
FROM nursing_records nr
JOIN patients p ON nr.patient_id = p.id
WHERE nr.visit_date >= '2025-10-01'
  AND nr.visit_date < '2025-11-01'
  AND nr.deleted_at IS NULL
GROUP BY p.id, p.last_name, p.first_name
ORDER BY total_points DESC;
"
```

---

## âœ… ãƒ†ã‚¹ãƒˆå®Œäº†ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
- [ ] Test Case 1: å¤œé–“ç·Šæ€¥è¨ªå•ï¼ˆè¤‡æ•°åŠ ç®—ï¼‰
- [ ] Test Case 2: é•·æ™‚é–“è¨ªå•ï¼ˆ90åˆ†ä»¥ä¸Šï¼‰
- [ ] Test Case 3: ä¹³å¹¼å…è¨ªå•ï¼ˆå¹´é½¢åŒºåˆ†ï¼‰
- [ ] Test Case 4: æ·±å¤œè¨ªå•ï¼ˆæ™‚é–“å¸¯ï¼‰
- [ ] Test Case 5: æ—©æœè¨ªå•ï¼ˆæ™‚é–“å¸¯ï¼‰
- [ ] Test Case 6: è¤‡æ•°åè¨ªå•ï¼ˆå›ºå®šç‚¹æ•°ï¼‰
- [ ] Test Case 7: é€šå¸¸è¨ªå•ï¼ˆåŠ ç®—ãªã—ï¼‰

### ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§
- [ ] bonus_calculation_historyã«ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒä¿å­˜ã•ã‚Œã¦ã„ã‚‹
- [ ] è¨ˆç®—æ ¹æ‹ ï¼ˆcalculationDetailsï¼‰ãŒJSONå½¢å¼ã§ä¿å­˜ã•ã‚Œã¦ã„ã‚‹
- [ ] ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ï¼ˆ2024ï¼‰ãŒæ­£ã—ãè¨˜éŒ²ã•ã‚Œã¦ã„ã‚‹

### UIè¡¨ç¤º
- [ ] ç®—å®šç‚¹æ•°ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] é©ç”¨åŠ ç®—ãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] è¨˜éŒ²ä¸€è¦§ã§ç‚¹æ•°ãŒç¢ºèªã§ãã‚‹

---

## ðŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### å•é¡Œ: åŠ ç®—ãŒé©ç”¨ã•ã‚Œãªã„

**ç¢ºèªé …ç›®**:
1. æ‚£è€…ã®ä¿é™ºç¨®åˆ¥ãŒã€ŒåŒ»ç™‚ä¿é™ºã€ã«ãªã£ã¦ã„ã‚‹ã‹
2. å¿…è¦ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆç·Šæ€¥è¨ªå•ç†ç”±ç­‰ï¼‰ãŒå…¥åŠ›ã•ã‚Œã¦ã„ã‚‹ã‹
3. æ™‚åˆ»ãŒæ­£ã—ãå…¥åŠ›ã•ã‚Œã¦ã„ã‚‹ã‹

**ç¢ºèªã‚³ãƒžãƒ³ãƒ‰**:
```bash
psql "$DATABASE_URL" -c "SELECT id, last_name, first_name, insurance_type FROM patients WHERE id = '5df7433b-a4a7-47f2-9763-1a5cc1e9bfc2';"
```

### å•é¡Œ: ç‚¹æ•°ãŒæƒ³å®šã¨é•ã†

ãƒ–ãƒ©ã‚¦ã‚¶ã®é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ï¼ˆF12ã‚­ãƒ¼ï¼‰ã‚’é–‹ãã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚¿ãƒ–ã§è¨ˆç®—ãƒ­ã‚°ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

### å•é¡Œ: ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹

é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

---

## ðŸ“Š æœŸå¾…ã•ã‚Œã‚‹çµæžœä¸€è¦§

| ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ | åŸºæœ¬ | åŠ ç®—1 | åŠ ç®—2 | åˆè¨ˆ |
|------------|------|-------|-------|------|
| 1. å¤œé–“ç·Šæ€¥è¨ªå• | 500 | ç·Šæ€¥ 2650 | å¤œé–“ 2100 | **5250** |
| 2. é•·æ™‚é–“è¨ªå• | 500 | é•·æ™‚é–“ 5200 | - | **5700** |
| 3. ä¹³å¹¼å…è¨ªå• | 500 | ä¹³å¹¼å… 1500 | - | **2000** |
| 4. æ·±å¤œè¨ªå• | 500 | æ·±å¤œ 4200 | - | **4700** |
| 5. æ—©æœè¨ªå• | 500 | æ—©æœ 2100 | - | **2600** |
| 6. è¤‡æ•°åè¨ªå• | 500 | è¤‡æ•°å 4500 | - | **5000** |
| 7. é€šå¸¸è¨ªå• | 500 | - | - | **500** |

**åˆè¨ˆï¼ˆ7è¨ªå•ï¼‰**: 25,750ç‚¹ = **257,500å††**

---

**ä½œæˆæ—¥**: 2025-10-15
**Phase**: 4-2 ãƒ«ãƒ¼ãƒ«ã‚¨ãƒ³ã‚¸ãƒ³å®Ÿè£…ãƒ†ã‚¹ãƒˆ
